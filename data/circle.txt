push 50 dub pop CX pop CY  ; center coords
push 30 pop RR             ; radius
call :fordraw
:end
draw
sleep 3000
hlt

push 0 dub           ; for
pop AX pop AY
:loop0

call :ifdraw         ; checks AX, AY and ocasionally calls :setpnt

:fordraw
push AY+1 dub pop AY ; j++
push 100
ja :loop0
push 0 pop AY
push AX+1 dub pop AX ; i++
push 100
ja :loop0
ret

:ifdraw
push AX push AY
push CY sub
sqr pop BY     ; (y-yc)^2 -> BY
push CX sub
sqr push BY    ; BY, (x-xc)^2 -> stack
add
push RR sqr
jb :ifdrawskip
call :setpnt
:ifdrawskip
ret

:setpnt
push AX push 100 mul
push AY
add
pop II
push -16711936
pop [II]
ret
